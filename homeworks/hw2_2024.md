Here's the refined homework assignment on repeats masking in genomes:

### Genome Bioinformatics: Homework 2. Repeats Masking in Genomes

**Course Code:** Special topics in genomics

**Instructor:** Aleksey Komissarov

**Submission Date:** March 20, 2024

**File location:** https://github.com/aglabx/masters-course-2024-genome-bioinformatics/blob/main/homeworks/hw2_2024.md

#### Objective:
This assignment aims to provide you with practical experience in identifying and masking repetitive sequences in genomes using various bioinformatics tools. Through a series of tasks, you will:

- Install and run WindowMasker, DUST, Tandem Repeats Finder (TRF), and RepeatModeler with RepeatMasker.
- Compare the fraction of masked genome for each tool.
- Analyze the differences in the types and amounts of repetitive sequences identified by each tool.
- Gain insights into the importance of repeats masking in genome analysis.

Completing these tasks will equip you with essential skills in managing repetitive sequences in genomic data, preparing you for advanced genome analysis projects.

#### Instructions:

Complete the following tasks and submit your work to your private GitHub repository according to the provided instructions for each step. Ensure all data and analyses are clearly labeled and organized as described.

---

### Task 1: Installing Repeats Masking Tools (5 points)

**Objective:** Install WindowMasker, DUST, TRF, RepeatModeler, and RepeatMasker using Conda to familiarize yourself with software installation and environment management.

#### Instructions:

**Conda Environment Setup:**

1. Open a terminal.
2. To create a new Conda environment named `genome_tools`, run:
   ```bash
   conda create -n genome_tools python=3.8
   ```
3. Activate the newly created environment:
   ```bash
   conda activate genome_tools
   ```

**Installing Tools:**

- **WindowMasker** and **DUST** are part of the NCBI toolkit. Install using:
  ```bash
  conda install -c bioconda ncbi-tools-bin
  ```
  
- **Tandem Repeats Finder (TRF)**:
  ```bash
  conda install -c bioconda trf
  ```
  
- **RepeatModeler and RepeatMasker** can be installed together as they are often used in conjunction. Ensure to install dependencies like `rmblast`:
  ```bash
  conda install -c bioconda repeatmodeler repeatmasker rmblast
  ```

#### Deliverables:
- The report (README.md in hw2 folder) should include the Conda commands used to create the environment and install each tool.

---

### Task 2: Running Repeats Masking Tools (3 points)

**Objective:** Run WindowMasker, DUST, TRF, RepeatModeler with RepeatMasker on the genome from Homework 1 and compare the results.

#### Instructions:

**Running Tools:**

- **WindowMasker**:
  ```bash
  windowmasker -in <genome_file.fasta> -mk_counts -out <genome.counts>
  windowmasker -in <genome_file.fasta> -ustat <genome.counts> -out <windowmasker_results.txt> -outfmt fasta
  ```
  Replace `<genome_file.fasta>` with the path to your genome file.

- **DUST** (part of NCBI toolkit, usage with `seqtk` for simplicity):
  ```bash
  seqtk seq -A <genome_file.fasta> | dustmasker -infmt fasta | seqtk seq -a > dust_results.txt
  ```

- **Tandem Repeats Finder (TRF)**:
  ```bash
  trf <genome_file.fasta> 2 7 7 80 10 50 500 -d -h > trf_results.txt
  ```

- **RepeatModeler with RepeatMasker**:
  - First, use RepeatModeler to create a custom repeat library:
    ```bash
    BuildDatabase -name <genome_db> -engine ncbi <genome_file.fasta>
    RepeatModeler -database <genome_db> -pa 4 -LTRStruct
    ```
    Note: `<genome_db>` is your genome database name.
  - Then, run RepeatMasker using the custom library generated:
    ```bash
    RepeatMasker -lib <custom_library> -pa 4 -s -xsmall -e ncbi <genome_file.fasta>
    ```
    Replace `<custom_library>` with the path to the library generated by RepeatModeler.

#### Deliverables:
- The report should include the commands used to run each tool.
- The report should contain a table comparing the masked fractions for each tool.
- The report should include an analysis of the differences in the results from each tool (minimum one paragraph).

#### Pitfalls:
- You might want to ensure the -lib option points to a specific custom library file generated by RepeatModeler, which usually has a .fa extension and is located in the RM_* directory created by RepeatModeler.


---

### Task 3: Interpreting Results (2 points)

**Objective:** Understand the importance of repeats masking in genome analysis and the implications of the results from different tools.

#### Instructions:

1. **Importance of Repeats Masking:**
   - Discuss why repeats masking is a crucial step in many genome analysis pipelines.
   - Explain how unmasked repeats can affect downstream analyses.

2. **Tool Comparison:**
   - Based on the results from Task 2, discuss the strengths and weaknesses of each tool.
   - Consider factors such as sensitivity, specificity, speed, and ease of use.

3. **Biological Implications:**
   - Reflect on what the different types and amounts of repetitive sequences identified by each tool might indicate about the genome's structure and evolution.
   - Discuss how this information could be used in further research on the organism.

#### Deliverables:
- The report should include a discussion of the importance of repeats masking in genome analysis (one paragraph).
- The report should compare the strengths and weaknesses of each tool based on the results (one paragraph).
- The report should reflect on the biological implications of the results (one paragraph).

---

### Expected files in hw2 folder:
- README.md
- repeatmasker.table.txt

### Report file (README.md) should include:
- Conda commands used for environment setup and tool installation.
- Commands used to run each tool.
- Table comparing masked fractions from each tool.
- Analysis of differences in results from each tool (minimum one paragraph).
- Discussion of importance of repeats masking (one paragraph).
- Comparison of strengths and weaknesses of each tool (one paragraph).
- Reflection on biological implications of the results (one paragraph).

**Note to remember:**

As you work through this assignment, please keep the following in mind:

1. **Documenting Troubleshooting and Errors:** It's crucial to document any troubleshooting steps or errors you encounter during the installation and use of these bioinformatics tools. This documentation can serve as valuable learning material, both for you and your peers. It can also facilitate discussions and provide insights that contribute to a deeper understanding of the tools and their applications.

2. **Exploring Tool Documentation:** We highly encourage you to explore the official documentation of each tool used in this assignment. Delving into the documentation will not only help you understand the parameters and options available for each tool but also enable you to customize the tools' usage to suit your specific research needs better. This exploration is an essential skill in bioinformatics, where tools often have many parameters that can significantly affect your results.

3. **Access to Adequate Computational Resources:** The bioinformatics tools involved in this assignment can be resource-intensive, requiring a considerable amount of computational power for processing genome data. Ensure that the computer you plan to use has adequate computational resources (CPU, memory, and disk space) to handle the tasks efficiently. If you encounter resource limitations, consider seeking access to more powerful computational resources, such as those provided by universities or research institutions.

By keeping these points in mind, you will enhance your learning experience and improve the quality of your work on this assignment. Good luck!

**Good luck, and enjoy exploring the world of repetitive sequences in genomes!**
